---
title: "FinalProjectDraft"
author: "Breanna Schneider, Avery Chan, Maja Velichkovich"
date: "4/1/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

```{r}
# data <- read_csv("data/data.csv")

genre <- read_csv("data/data_by_genres.csv")
genre
x <- genre %>% 
  select(genres) %>% 
  mutate(
    words = str_split(genres, "\\s|-"),
  )

all_terms <- tibble(term = unlist(x$words, recursive = FALSE))
# Top terms
all_terms %>% 
  group_by(term) %>% 
  summarise(n = n()) %>% 
  arrange(desc(n)) %>% 
  head(20)

# genre %>% 
#   select(genres) %>% 
#   mutate(
#     category = case_when(
#       str_detect(genres, "pop") ~ "pop",
#       str_detect(genres, "classical") ~ "classical",
#       str_detect(genres, "rock") ~ "rock",
#       str_detect(genres, "hip hop") ~ "hip hop",
#       TRUE ~ "other"
#     )
#   ) %>% 
#   filter(category == "other")
#   # group_by(category) %>%
#   # summarise(n = n())
```

```{r}
year <- read_csv("data/data_by_year.csv")

# All r values
year %>% 
  select(-c(year, key, mode)) %>% 
  cor() %>% 
  data.frame()
```


```{r}
# All graphs
# for (a in colnames(year)[2:12]) {
#   for (b in colnames(year)[2:12]) {
#     if (a > b) {
#       g <- year %>%
#         summarise(
#           a_var = get(a),
#           b_var = get(b)
#         ) %>% 
#         ggplot(aes(x = a_var, y = b_var)) +
#         geom_point() +
#         labs(
#           x = a,
#           y = b
#           )
#       print(g)
#     }
#   }
# }

# https://statsandr.com/blog/correlation-coefficient-and-correlation-test-in-r/

pairs(year[,c(5, 2, 7, 8)])

pairs(year[2:12])

# combn(colnames(year)[2:12], 2)
```

```{r}
# > install.packages("corrplot")
library(corrplot)

corrplot(cor(year),
  method = "number",
  type = "upper" # show only upper side
)

corrplot(cor(year[,c(5, 2, 7, 8)]),
  method = "number",
  type = "upper" # show only upper side
)
```


# Final Project

## Introduction


## Background 


## Analysis


## Discussion


## References 

[Link to Data](https://www.kaggle.com/yamaerenay/spotify-dataset-19212020-160k-tracks)